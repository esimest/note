#锁机制用于管理对共享资源的并发访问，提供数据的完整性和一致性。可以实现事务的隔离性
开销   性能
InnoDB
行级锁
共享锁（S Lock），允许事务读取一行数据。S Lock 兼容 S Lock
在加锁之前，需加上DEGIN或START TRANSACTION或SET AUTOCOMMIT=0
SELECT 行 LOCK IN SHARE MODE
排他锁（X Lock），允许事务删除或更改一行数据。X Lock 不兼容任何锁
SELECT 行 FOR UPDATE
表级锁（意向锁）
意向共享锁(IS Lock)，事务想获取一张表中某几行的共享锁
意向排他锁(IX Lock ), 事务想获取一张表中某几行的排他锁
information_shcema.(innodb_trx,innodb_locks,innodb_lock_waits)

SELECT操作使用的是一致性非锁定行读

锁带来的问题
1) 丢失更新（添加X Lock)
2) 脏读。读取到其他事务未提交的更新（READ UNCOMMITTED），将事务隔离级别提高
3）不可重复读。读取到其他事务已提交的更新

阻塞
等待获取数据的锁

死锁（并行（事务）情况下）：InnoDB在大部分异常情况下不会回滚数据库。但是发生死锁是，会进行回滚
相互等待

锁升级


MyISAM
ISAM的锁就是表锁
SQLSERVER
乐观并发，悲观并发
