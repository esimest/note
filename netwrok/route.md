# Route

> 路由
>> **每个路由器都有一个路由表和一个转发表**
>> **每个网络接口都有对应的 ip 地址**
>> 对于一个路由器来说，与之直接相连的网络在该路由器的路由表中都是直接路由项。直接路由项在接口互联的时候直接生成。

## 路由器路由表结构

1. type : 连接类型(R: 通过 RIP 协议动态生成的路由项，C: 直连路由项，S: 静态路由项)
2. NetWork : 目标网络
3. Port : 出方向端口
4. Next Hop IP : 下一跳地址
5. Metric : 度量值，由于比较不同路径到达同一目的地的优劣。度量值越小，这条路径越佳。

## Linux 路由表结构

1. Destination : 目标网络地址
2. GateWay : 到达目标网络要经过的网关
3. Genmask : 子网掩码
4. Flags : 这条路径的标志
   > U:该路由可以使用
   > G:该路由是到一个网关，如果没有该标志，说明目的地是直连的
   > H:该路由是到一个主机
   > D:该路由是由重定向报文创建的
   > M:该路由已被重定向报文修改
5. Metric
6. Ref
7. Use
8. Interface : 该条路径使用的网卡

## RIP 路由协议

> 路由信息由集合(V, D) 表示，V表示目标网络，D表示距离
> 根据相邻路由器的路由信息生成到达子网的最短路径

1. 每一个路由器建立和其直接相连的子网的路由项
2. 相邻路由器交换各自路由项，如果相邻路由项中存在通往某个子网的路径，意味着通往该相邻路由器可以找到通往该子网的路径
3. 经过周期性地反复交换路由项，最终建立到达网络中所有子网的路由项
   > 交换路由项由RIP协议实现
   > RIP协议的IP分组格式：路由项 目的IP地址（244.0.0.9一个组播地址，相邻的实现了RIP协议的路由器都能收到目的地址为该地址的RIP协议包） 源IP地址

## 网关

> 通过网关到达其它网络
